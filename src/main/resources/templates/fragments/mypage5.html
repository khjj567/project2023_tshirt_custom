<!DOCTYPE html>
<html>
    <style>
        .mypage_button{
        float: left; 
        width: auto;
        height: auto;
        padding: 3px;
        /* background-color: rgb(255, 197, 197); */
    }
    
    #mypage_btn input[type="submit"] {
        font-size: 16px;
        background-color: rgba(217, 217, 217, 1);
        border: solid 1px #000000;
        border-radius: 30px;
        padding: 5px 15px;
        margin: 5px;
        font-family: "NanumSquare";
        float: left;
    }

    
    #mypage_btn:hover{
        border: solid 1px rgba(217, 217, 217, 1);
        color: rgb(95, 95, 95);
        background-color: pink;
    }
    </style>
    <th:block th:fragment="mypage5Fragment">
        <script>
            function updateCheck(){
                event.preventDefault(); // 폼 제출 막기
        
                const name = document.getElementById("name");
                const mphone = document.getElementById("mphone");
                const memail = document.getElementById("memail");
        
                if(name.value.length <= 0){
                    alert('이름을 입력해 주세요');
                    name.focus();
                    return false;
                }
        
                if(mphone.value.length < 11){
                    alert('휴대폰 번호를 올바르게 입력해 주세요');
                    mphone.focus();
                    return false;
                }
        
                if(memail.value.length <= 0){
                    alert('이메일을 입력해주세요');
                    memail.focus();
                    return false;
                }

                if(mpw.value.length <= 0){
                    alert('비밀번호를 입력해주세요');
                    mpw.focus();
                    return false;
                }
        
                document.getElementById('form').submit();
            }
        </script>

        <div class="my_title">
            개인정보수정
        </div>
        <form th:action="@{/member/update.do}" method="post" id="form"  >
            <div class="trm">
                <p class="p_conts_one">
                    <label for="name">아이디:</label>
                    <span name="mid" th:text="${obj.mid}"></span>
                </p>
                <p class="p_conts_one">
                    <label for="name">이름:</label>
                    <input type="text" id="name" name="mname" th:value="${obj.mname}">
                </p>
                <p class="p_conts_one">
                    <label for="mphone">휴대폰 번호:</label>
                    <input type="text" id="mphone" name="mphone" th:value="${obj.mphone}">
                </p>
                <p class="p_conts_one">
                    <label for="memail">이메일:</label>
                    <input type="text" id="memail" name="memail" th:value="${obj.memail}">
                </p>
                <p class="p_conts_one">
                    <label for="name">가입일:</label>
                    <span th:text="${#dates.format(obj.mregdate, 'yyyy/MM/dd')}" ></span>
                </p>
            </div>
            <div class="clear"></div>
            <p class="p_conts_one">
                <label for="mpw"><b>비밀번호:</b></label>
                <input type="text" id="mpw" name="mpw">
            </p>
            <div>
                <input id="mypage_btn" style="border: solid 1px #000000;" type="submit" value="저장하기" onclick="updateCheck()"/>
            </div>
            <div>
                <a id="mypage_btn" style="float: right; border: solid 1px #000000;" th:href="@{/member/updatepw.do}">비밀번호 변경</a>
            </div>
        </form>
        
    </th:block>

    
    
</html>